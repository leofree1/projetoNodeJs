<!DOCTYPE html>
<html lang="pt-br">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página de comentários</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
  </head>

  <style>
    body {
      font-size: 20px;
    }

    form {
      margin-top: 70px;
      width: 40%;
      margin-left: auto;
      margin-right: auto;
    }

    h1 {
      font-size: 26px;
      text-transform: capitalize;
    }

    h2 {
      font-size: 15px;
      font-weight: bold;
      text-transform: capitalize;
    }

    p {
      word-break: break-all;
    }

    .userIcon{
      width: 100%;
    }

    img {
      width: 40px;
      height: 40px;
    }

    .container {
      padding: 20px 200px;
    }

    .info {
      border: 1px solid #ccc;
      padding: 10px 20px 5px 10px;
      border-radius: 10px;
      text-transform: capitalize;
    }

    .info-text {
      font-size: 15px;
      color: #5c5c5c;
      margin-bottom: 5px;
    }

    .shadow-textarea textarea.form-control::placeholder {
      font-weight: 300;
    }

    .shadow-textarea textarea.form-control {
      padding-left: 0.8rem;
    }
  </style>

  <body>
    <nav class="navbar fixed-top navbar-expand-lg navbar-light bg-primary">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">
          <img src="/logo.png">
        </a>
        <a class="navbar-brand text-light" href="/home">Home</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
          aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link text-light" href="/cadastro">Cadastro</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-light" href="/comentario">Comentários</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-light">Usuário logado: <%= usuario %></a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-light" href="/deslogar">Deslogar</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <form action="/cadastrarComentario" method="POST">
      <center>
        <div class="mb-3">
          <label for="exampleFormControlTextarea1" class="form-label h1">Comentário:</label>
          <textarea class="form-control" name="comentario" rows="3" maxlength="250"
            placeholder="Digite um comentário:"></textarea>
          <p></p>
          <button type="submit" class="btn btn-primary">Comentar</button>
        </div>
      </center>
    </form>

    <div class="container">
      <div class="row">
        <div class="col-sm-12 mb-4 mt-4">
          <div class="text-center mb-4">
            <h1>Listagem de comentários:</h1>
          </div>
          <%for(comentario of dadosComentarios){ %>
            <div class="row">
              <div class="col-sm-1 mb-3">
                <img class="userIcon" src="/user.png">
              </div>
              <div class="col-sm-11 mb-3">
                <h2>Usuário: <%= comentario.nome %>
                </h2>
                <div class="info">
                  <div class="info-text">Comentário</div>
                  <p>
                    <%= comentario.comentario %>
                  </p>
                </div>
              </div>
            </div>
            <%} %>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
      crossorigin="anonymous"></script>
  </body>
</html>